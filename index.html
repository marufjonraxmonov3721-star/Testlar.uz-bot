<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>eFootball Tournament Pro</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&family=Oswald:wght@700&display=swap" rel="stylesheet">
    <style>
        :root {
            --ef-dark: #00051a;
            --ef-blue: #001e7a;
            --ef-neon: #dfff00;
            --ef-danger: #ff004c;
            --ef-card: rgba(0, 21, 90, 0.95);
            --ef-text: #ffffff;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: var(--ef-dark);
            color: var(--ef-text);
            margin: 0;
            padding-bottom: 60px;
            background-image: radial-gradient(circle at 50% 50%, var(--ef-blue) 0%, var(--ef-dark) 100%);
            background-attachment: fixed;
            overflow-x: hidden;
        }

        .container { padding: 10px; max-width: 420px; margin: auto; }
        h1 { font-family: 'Oswald', sans-serif; text-transform: uppercase; color: var(--ef-neon); margin: 5px 0 10px; text-align: left; font-size: 18px; letter-spacing: 0.5px; }

        #broadcast-notice {
            position: fixed; top: 0; left: 0; width: 100%; 
            background: var(--ef-neon); color: #000; padding: 10px;
            font-weight: 800; font-size: 11px; text-transform: uppercase;
            z-index: 5000; text-align: center; display: none;
            box-shadow: 0 4px 15px rgba(0,0,0,0.5);
            animation: slideDown 0.3s ease;
        }
        @keyframes slideDown { from { transform: translateY(-100%); } to { transform: translateY(0); } }

        #loader {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: var(--ef-dark); display: none; flex-direction: column;
            justify-content: center; align-items: center; z-index: 9999;
        }
        .spinner {
            width: 35px; height: 35px; border: 3px solid rgba(223, 255, 0, 0.1);
            border-top: 3px solid var(--ef-neon); border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        .ef-card {
            background: var(--ef-card); border-left: 3px solid var(--ef-neon);
            padding: 10px 12px; border-radius: 2px; margin-bottom: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.4);
        }

        label { display: block; font-size: 9px; color: var(--ef-neon); font-weight: 900; margin-bottom: 3px; text-transform: uppercase; }
        .input-box {
            width: 100%; padding: 10px; background: rgba(0,0,0,0.5); border: 1px solid var(--ef-blue);
            color: white; border-radius: 2px; margin-bottom: 8px; box-sizing: border-box; font-size: 12px;
        }

        .team-grid {
            display: grid; grid-template-columns: repeat(4, 1fr); gap: 5px;
            max-height: 220px; overflow-y: auto; background: rgba(0,0,0,0.3); padding: 5px;
        }
        .team-item { text-align: center; font-size: 8px; padding: 3px; border-radius: 2px; position: relative; }
        .team-item img { width: 28px; height: 28px; object-fit: contain; background: white; border-radius: 2px; padding: 1px; }
        .team-item p { margin: 2px 0 0; font-weight: 700; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        
        .team-item.taken::before {
            content: "TANLANGAN"; position: absolute; top: 50%; left: 50%;
            transform: translate(-50%, -50%) rotate(-15deg);
            background: var(--ef-danger); color: white; font-size: 6px; font-weight: 900;
            padding: 2px 4px; z-index: 10; white-space: nowrap;
        }
        .team-item.taken { opacity: 0.3; filter: grayscale(1); pointer-events: none; }
        .team-item.selected { border: 1px solid var(--ef-neon); background: rgba(223,255,0,0.1); }

        .btn {
            width: 100%; padding: 10px; background: var(--ef-neon); color: #000;
            border: none; font-weight: 900; text-transform: uppercase; cursor: pointer; font-size: 11px;
            clip-path: polygon(0 0, 97% 0, 100% 25%, 100% 100%, 3% 100%, 0 75%);
        }
        .btn:disabled { background: #333; color: #666; opacity: 0.5; cursor: not-allowed; }

        .nav-bar {
            position: fixed; bottom: 0; left: 0; width: 100%;
            background: #000; border-top: 1px solid rgba(223,255,0,0.3);
            display: flex; justify-content: space-around; padding: 6px 0; z-index: 1000;
        }
        .nav-item { text-align: center; font-size: 8px; font-weight: 900; color: #fff; opacity: 0.4; cursor: pointer; }
        .nav-item.active { opacity: 1; color: var(--ef-neon); }

        .overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--ef-dark); z-index: 2000; display: none; padding: 15px; box-sizing: border-box; overflow-y: auto; }
        
        #screen-block, #screen-draw-live { 
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            background: radial-gradient(circle, #001e7a 0%, #00051a 100%); 
            color: #fff; z-index: 9999; display: none;
            overflow-y: auto; padding: 15px; box-sizing: border-box;
        }

        .group-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .group-container { background: rgba(0,0,0,0.6); padding: 8px; border: 1px solid var(--ef-neon); border-radius: 4px; transition: 0.3s; }
        .group-title { color: var(--ef-neon); font-family: 'Oswald'; font-size: 13px; text-align: center; border-bottom: 1px solid #333; margin-bottom: 6px; }
        .group-row { display: flex; align-items: center; gap: 8px; margin-bottom: 6px; font-size: 10px; animation: fadeIn 0.5s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
        .group-row img { width: 18px; background: #fff; border-radius: 2px; }
        .player-info { display: flex; flex-direction: column; }
        .player-team { font-weight: 900; color: var(--ef-neon); font-size: 9px; line-height: 1; }
        .player-name { font-weight: 400; color: #fff; font-size: 10px; }

        .prize-pool { margin-top: 5px; background: rgba(0,0,0,0.3); padding: 5px; border-radius: 4px; display: none; }
        .prize-pool.show { display: block; }
        .prize-row { display: flex; justify-content: space-between; font-size: 10px; padding: 2px 0; border-bottom: 1px solid rgba(255,255,255,0.05); }
        .prize-row:last-child { border: none; }
        .prize-row span:first-child { color: var(--ef-neon); font-weight: 700; }

        .match-card { background: rgba(0,255,255,0.1); border-left: 3px solid cyan; padding: 6px; margin-bottom: 5px; font-size: 10px; display: flex; justify-content: space-between; align-items: center; }

        .screen { display: none; }
        .screen.active { display: block; }
    </style>
</head>
<body>

<div id="broadcast-notice"></div>
<div id="loader"><div class="spinner"></div><p style="color:var(--ef-neon); font-size:10px; margin-top:10px; font-weight:900; text-transform: uppercase;">eFootball Tournament</p></div>

<div id="screen-block">
    <h1 style="color:var(--ef-danger); text-align: center;">BLOKLANDINGIZ</h1>
    <p style="font-size:14px; opacity:0.7; padding: 0 20px; text-align: center;">Sizning hisobingiz admin tomonidan bloklangan.</p>
</div>

<div id="screen-draw-live">
    <h1 style="color:var(--ef-neon); font-family:'Oswald'; text-align: center; font-size: 24px;">DRAW CEREMONY</h1>
    <div id="draw-live-status" class="draw-status-box" style="text-align:center; padding:10px; border:1px solid var(--ef-neon); margin-bottom:10px;">
        <div id="display-team-name" style="color:white; font-size:12px;">TANLANAYOTGAN ISHTIROKCHI:</div>
        <div id="display-player-name" style="color:var(--ef-neon); font-family:'Oswald'; font-size:20px;">---</div>
    </div>
    <div class="group-grid" id="live-draw-grid"></div>
    <div id="matches-section" style="display:none; margin-top:20px;">
        <h2 style="color:cyan; font-family:'Oswald'; text-align:center; font-size: 18px;">O'YINLAR JADVALI</h2>
        <div id="match-schedule"></div>
    </div>
    <button id="close-draw-btn" class="btn" style="margin: 20px 0; background: var(--ef-danger); color: white; display:none;" onclick="document.getElementById('screen-draw-live').style.display='none'">YOPISH</button>
</div>

<div class="container">
    <div id="screen-reg" class="screen">
        <h1 style="text-align:center; font-size:22px;">RO'YXATDAN O'TISH</h1>
        <div id="reg-form-container" class="ef-card" style="padding: 25px 15px;">
            <p id="reg-msg" style="font-size:12px; text-align:center; margin-bottom:15px; opacity:0.8;">Ishtirok etish uchun Telegram username kiritishingiz shart.</p>
            <label>TELEGRAM USERNAME</label>
            <input type="text" id="reg-username" class="input-box" placeholder="@foydalanuvchi_nomi">
            <button id="start-reg-btn" class="btn" onclick="openTeams()" style="margin-top:10px;">JAMOA TANLASHGA O'TISH ‚ûî</button>
        </div>
    </div>

    <div id="screen-tournaments" class="screen">
        <h1>TURNIRLAR</h1>
        <div id="tournament-options"></div>
    </div>

    <div id="screen-ranking" class="screen"><h1>REYTING</h1><div id="ranking-list"></div></div>
    <div id="screen-profile" class="screen"><h1>PROFIL</h1><div id="profile-data"></div></div>
    <div id="screen-settings" class="screen"><h1>SOZLAMALAR</h1><div class="ef-card"><button class="btn" style="background:var(--ef-danger); color:#fff; clip-path:none;" onclick="logout()">LOGOUT</button></div></div>
</div>

<div id="team-overlay" class="overlay">
    <h1>JAMOA TANLASH</h1>
    <div class="ef-card">
        <div style="display:flex; gap:4px; margin-bottom:8px;">
            <button onclick="loadTeams('nation')" class="btn" style="padding:6px; font-size:9px;">DAVLATLAR</button>
            <button onclick="loadTeams('club')" class="btn" style="padding:6px; font-size:9px;">KLUBLAR</button>
        </div>
        <div class="team-grid" id="team-selector"></div>
        <button class="btn" style="margin-top:12px;" onclick="handleRegistration()">SAQLASH</button>
        <button class="btn" style="margin-top:6px; background:transparent; color:white; border:1px solid #333;" onclick="closeOverlay('team-overlay')">ORTGA</button>
    </div>
</div>

<div id="pay-overlay" class="overlay">
    <h1>TO'LOV</h1>
    <div class="ef-card">
        <h3 style="color:var(--ef-danger)">TO'LOV MA'LUMOTLARI</h3>
        <div style="background:rgba(0,0,0,0.4); padding:10px; border-radius:2px; margin:8px 0; font-size:12px;">
            <p>Karta: <b style="color:var(--ef-neon)">4073 4200 6816 5541</b><br>Ega: Maruf Raxmonov<br>Summa: <b id="pay-amount">0</b> so'm</p>
        </div>
        <button class="btn" onclick="confirmPayment()">TO'LOV QILDIM</button>
        <button class="btn" style="margin-top:6px; background:transparent; color:white; border:1px solid #333;" onclick="closeOverlay('pay-overlay')">BEKOR QILISH</button>
    </div>
</div>

<nav class="nav-bar" id="main-nav" style="display:none;">
    <div class="nav-item active" onclick="nav('tournaments', this)">üèü TURNIRLAR</div>
    <div class="nav-item" onclick="nav('ranking', this)">üèÜ REYTING</div>
    <div class="nav-item" onclick="nav('profile', this)">üë§ PROFIL</div>
    <div class="nav-item" onclick="nav('settings', this)">‚öôÔ∏è SOZLAMALAR</div>
</nav>

<audio id="ef-audio" loop></audio>

<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
    import { getDatabase, ref, set, onValue, get, update } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

    const firebaseConfig = {
        apiKey: "AIzaSyAD1KOT_QH64DDWQ306H5L-xwnWH0k2kUg",
        authDomain: "efootball-11be6.firebaseapp.com",
        databaseURL: "https://efootball-11be6-default-rtdb.firebaseio.com",
        projectId: "efootball-11be6",
        storageBucket: "efootball-11be6.firebasestorage.app",
        messagingSenderId: "989986946120",
        appId: "1:989986946120:web:2c654ac8ca6412f0bbec7d"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);
    const tg = window.Telegram.WebApp;
    
    const user_id = tg.initDataUnsafe?.user?.id || "DEBUG_USER";
    const tg_username = tg.initDataUnsafe?.user?.username ? "@" + tg.initDataUnsafe?.user?.username : "";
    const tg_full_name = (tg.initDataUnsafe?.user?.first_name || "") + " " + (tg.initDataUnsafe?.user?.last_name || "");

    let userData = null, prices = {}, allUsers = {};
    const audio = document.getElementById('ef-audio');

    const toggleLoader = (show) => document.getElementById('loader').style.display = show ? 'flex' : 'none';
    const closeOverlay = (id) => document.getElementById(id).style.display = 'none';
    window.closeOverlay = closeOverlay;

    // Mukofotlarni hisoblash funksiyasi
    function calculatePrizes(format, pricePerUser) {
        const total = format * pricePerUser;
        let dist = [];
        if(format === 8) dist = [0.4, 0.3, 0.2, 0.1]; // 1-4 o'rin
        else if(format === 16) dist = [0.35, 0.25, 0.15, 0.1, 0.08, 0.07]; // 1-6 o'rin
        else if(format === 32) dist = [0.3, 0.2, 0.12, 0.1, 0.08, 0.06, 0.05, 0.04, 0.03, 0.02]; // 1-10 o'rin
        else dist = [0.4, 0.3, 0.2, 0.1]; // 48 talik uchun default 4 o'rin
        
        return dist.map((pct, i) => ({ rank: i + 1, amount: Math.floor(total * pct) }));
    }

    onValue(ref(db, 'tournaments_config'), (s) => { if(s.exists()){ prices = s.val(); renderTournaments(); }});
    onValue(ref(db, 'announcement'), (s) => { const n = document.getElementById('broadcast-notice'); if(s.exists() && s.val().active){ n.innerText = s.val().text; n.style.display = 'block'; } else n.style.display = 'none'; });
    
    onValue(ref(db, 'music_control'), (s) => {
        if(s.exists()) {
            const data = s.val();
            if(data.playing) { if(audio.src !== data.data) audio.src = data.data; audio.play().catch(e => {}); } else audio.pause();
        }
    });

    onValue(ref(db, 'users'), (snap) => {
        if(snap.exists()) {
            allUsers = snap.val();
            renderTournaments();
        }
    });

    onValue(ref(db, 'draw_status'), (snap) => {
        const screen = document.getElementById('screen-draw-live');
        if(snap.exists() && snap.val().live) { screen.style.display = 'block'; startLiveSequentialDraw(); } else { screen.style.display = 'none'; }
    });

    const renderTournaments = () => {
        const container = document.getElementById('tournament-options');
        if(!prices.f8) return;
        const usersArr = Object.values(allUsers);
        container.innerHTML = "";
        [8, 16, 32, 48].forEach(format => {
            const approvedCount = usersArr.filter(u => u.currentTournament === format + " Talik" && u.paymentStatus === 'approved').length;
            const price = prices['f' + format];
            const prizeDist = calculatePrizes(format, price);
            
            let btnText = "QATNASHISH", btnDisabled = false, btnClass = "btn btn-join";

            if(userData?.paymentStatus === 'approved') {
                if(userData?.currentTournament === format + " Talik") { btnText = "KIRISH"; } 
                else { btnDisabled = true; btnText = "YOPILGAN"; }
            } 
            else if(userData?.currentTournament) { btnDisabled = true; btnText = "KUTILMOQDA"; }
            else if(approvedCount >= format) { btnDisabled = true; btnText = "TURNIR TO'LGAN"; }

            let prizesHtml = `<div class="prize-pool show">`;
            prizeDist.forEach(p => {
                prizesHtml += `<div class="prize-row"><span>${p.rank}-o'rin</span><span>${p.amount.toLocaleString()} so'm</span></div>`;
            });
            prizesHtml += `</div>`;

            container.innerHTML += `
                <div class="ef-card">
                    <div style="display:flex; justify-content:space-between; align-items:center;">
                        <h3>${format} TALIK FORMAT</h3>
                        <span style="font-weight:900; color:var(--ef-neon); font-size:12px;">${approvedCount}/${format}</span>
                    </div>
                    <p style="margin-bottom:2px;">Kirish: ${price.toLocaleString()} so'm</p>
                    <p style="font-size:9px; color:var(--ef-neon); font-weight:900; margin:0 0 5px 0;">MUKOFOTLAR:</p>
                    ${prizesHtml}
                    <button class="${btnClass}" style="margin-top:10px;" ${btnDisabled ? 'disabled' : ''} onclick="showPay(${format}, ${price})">${btnText}</button>
                </div>`;
        });
    };

    // Sequential Draw Animation
    async function startLiveSequentialDraw() {
        const approvedUsers = Object.values(allUsers).filter(u => u.paymentStatus === 'approved');
        if(approvedUsers.length === 0) return;
        const grid = document.getElementById('live-draw-grid');
        const matchSched = document.getElementById('match-schedule');
        const matchSec = document.getElementById('matches-section');
        grid.innerHTML = ""; matchSched.innerHTML = ""; matchSec.style.display = 'none';
        const shuffled = [...approvedUsers].sort(() => Math.random() - 0.5);
        const groupCount = Math.ceil(shuffled.length / 4);
        const groupKeys = ["A", "B", "C", "D", "E", "F", "G", "H"].slice(0, groupCount);
        const groups = {};
        groupKeys.forEach(k => { groups[k] = []; grid.innerHTML += `<div class="group-container"><div class="group-title">GROUP ${k}</div><div id="list-${k}"></div></div>`; });
        const dp = document.getElementById('display-player-name');
        const dt = document.getElementById('display-team-name');
        for(let i = 0; i < shuffled.length; i++) {
            const player = shuffled[i];
            const gk = groupKeys[i % groupCount];
            dt.innerText = player.teamName;
            dp.innerText = player.name;
            await new Promise(r => setTimeout(r, 1500));
            document.getElementById(`list-${gk}`).innerHTML += `<div class="group-row"><img src="${player.teamLogo}"><div class="player-info"><span class="player-team">${player.teamName}</span><span class="player-name">${player.name}</span></div></div>`;
            groups[gk].push(player);
            await new Promise(r => setTimeout(r, 800));
        }
        dt.innerText = "YAKUNLANDI"; dp.innerText = "OMAD!"; matchSec.style.display = 'block'; document.getElementById('close-draw-btn').style.display = 'block';
        Object.keys(groups).forEach(key => {
            const gUsers = groups[key];
            if(gUsers.length >= 2) {
                matchSched.innerHTML += `<div style="color:var(--ef-neon); font-size:11px; margin:10px 0 5px; font-weight:900;">GROUP ${key} MATCHES</div>`;
                for(let i = 0; i < gUsers.length; i++) {
                    for(let j = i + 1; j < gUsers.length; j++) {
                        matchSched.innerHTML += `<div class="match-card"><span>${gUsers[i].name}</span><span style="font-weight:900; color:var(--ef-neon);">VS</span><span>${gUsers[j].name}</span></div>`;
                    }
                }
            }
        });
    }

    // REGISTRATION LOGIC
    window.openTeams = () => { 
        const un = document.getElementById('reg-username').value.trim();
        if(!un || un.length < 3) return alert("Iltimos, Telegram foydalanuvchi nomingizni (Username) to'g'ri kiriting!");
        document.getElementById('team-overlay').style.display = 'block'; 
        loadTeams('nation'); 
    };

    window.showPay = (f, p) => {
        if(userData?.currentTournament) return alert("Sizda faol turnir bor!");
        document.getElementById('pay-amount').innerText = p.toLocaleString();
        document.getElementById('pay-overlay').style.display = 'block';
        window.tempJoin = { f, p };
    };

    window.nav = (id, el) => {
        document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
        document.getElementById('screen-' + id).classList.add('active');
        document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
        el.classList.add('active');
    };

    window.loadTeams = async (type) => {
        toggleLoader(true);
        const [teamsSnap, usersSnap] = await Promise.all([get(ref(db, 'available_teams')), get(ref(db, 'users'))]);
        const taken = usersSnap.exists() ? Object.values(usersSnap.val()).map(u => u.teamId) : [];
        const teams = teamsSnap.val() ? Object.values(teamsSnap.val()) : [];
        const container = document.getElementById('team-selector');
        container.innerHTML = "";
        teams.filter(t => t.type === type).forEach(team => {
            const isTaken = taken.includes(team.id);
            const div = document.createElement('div');
            div.className = `team-item ${isTaken ? 'taken' : ''}`;
            div.onclick = () => { document.querySelectorAll('.team-item').forEach(i => i.classList.remove('selected')); div.classList.add('selected'); window.selectedTeam = team; };
            div.innerHTML = `<img src="${team.logo}"><p>${team.name}</p>`;
            container.appendChild(div);
        });
        toggleLoader(false);
    };

    window.handleRegistration = async () => {
        if(!window.selectedTeam) return alert("Jamoa tanlang!");
        toggleLoader(true);
        const user = { id: user_id, name: document.getElementById('reg-username').value.trim(), fullName: tg_full_name, teamId: window.selectedTeam.id, teamName: window.selectedTeam.name, teamLogo: window.selectedTeam.logo, currentTournament: null, paymentStatus: null, status: 'active' };
        await set(ref(db, 'users/' + user_id), user);
        location.reload();
    };

    window.confirmPayment = async () => {
        toggleLoader(true);
        await update(ref(db, 'users/' + user_id), { currentTournament: window.tempJoin.f + " Talik", paymentStatus: 'pending' });
        toggleLoader(false); closeOverlay('pay-overlay');
    };

    const startUserListener = () => {
        onValue(ref(db, 'users/' + user_id), (snap) => {
            if(snap.exists()) {
                userData = snap.val();
                if(userData.status === 'blocked') {
                    document.getElementById('screen-block').style.display = 'block';
                    document.querySelector('.container').style.display = 'none';
                    document.getElementById('main-nav').style.display = 'none';
                } else {
                    document.getElementById('screen-block').style.display = 'none';
                    document.querySelector('.container').style.display = 'block';
                    loadProfile();
                }
            }
        });
    };

    function loadProfile() {
        if(!userData) return;
        let s = userData.paymentStatus === 'pending' ? " (Kutilmoqda)" : (userData.paymentStatus === 'approved' ? " (Tasdiqlangan)" : "");
        document.getElementById('profile-data').innerHTML = `<div style="text-align:center; margin-bottom:8px;"><img src="${userData.teamLogo}" style="width:45px; background:white; padding:3px; border-radius:4px;"><h2 style="font-size:16px; margin:4px 0;">${userData.name}</h2><p style="font-size:10px; opacity:0.6;">${userData.fullName}</p></div><p style="font-size:11px;">üèü Turnir: <b style="color:var(--ef-neon)">${userData.currentTournament || "Yo'q"}${s}</b></p><p style="font-size:11px;">üõ° Jamoa: <b>${userData.teamName}</b></p>`;
    }

    async function checkAuth() {
        toggleLoader(true);
        const snap = await get(ref(db, 'users/' + user_id));
        if(!snap.exists()) {
            document.getElementById('screen-reg').classList.add('active');
            if(tg_username) {
                document.getElementById('reg-username').value = tg_username;
                document.getElementById('reg-msg').innerText = "Telegram foydalanuvchi nomingiz avtomatik aniqlandi!";
                document.getElementById('reg-msg').style.color = "var(--ef-neon)";
            } else {
                document.getElementById('reg-msg').innerText = "Iltimos, Telegram foydalanuvchi nomingizni (Username) kiriting!";
                document.getElementById('reg-msg').style.color = "var(--ef-danger)";
            }
        } else {
            startUserListener();
            document.getElementById('main-nav').style.display = 'flex';
            document.getElementById('screen-tournaments').classList.add('active');
        }
        toggleLoader(false);
    }
    checkAuth();
</script>
</body>
</html>
